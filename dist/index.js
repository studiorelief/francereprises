"use strict";(()=>{var u={COLLECTION_LIST:".event_hub_collection-list",DATE_ELEMENT:".event_hub_cards-date-referal",COLLECTION_ITEM:".event_hub_collection-item",DATE_FIELD:".event_hub_filters-date-field",TYPE_FIELD:".event_hub_filters-type-field",EMPTY_MESSAGE:".filter_empty.is-event",TRIGGER_DATE_WEEK:"#trigger-date-week",TRIGGER_DATE_MONTH:"#trigger-date-month",TRIGGER_DATE_ALL:"#trigger-date-tous",TRIGGER_TYPE_ALL:"#trigger-type-tous",TRIGGER_TYPE_WEBINAR:"#trigger-type-webinar",TRIGGER_TYPE_PHYSIQUE:"#trigger-type-physique",TRIGGER_TYPE_PAST:"#trigger-type-past",TRIGGER_TYPE_PREMIUM:"#trigger-type-premium",RESET_BUTTON:"#reset-all",FILTER_TYPE_WEBINAR:"#filter-type-webinar",FILTER_TYPE_PHYSIQUE:"#filter-type-physique",FILTER_TYPE_PREMIUM:"#filter-type-premium"},H=50;function F(){let t=document.querySelector(u.COLLECTION_LIST),n=document.querySelector(u.TRIGGER_DATE_WEEK),s=document.querySelector(u.TRIGGER_DATE_MONTH),a=document.querySelector(u.TRIGGER_DATE_ALL),p=document.querySelector(u.TRIGGER_TYPE_ALL),f=document.querySelector(u.TRIGGER_TYPE_WEBINAR),m=document.querySelector(u.TRIGGER_TYPE_PHYSIQUE),y=document.querySelector(u.TRIGGER_TYPE_PAST),w=document.querySelector(u.TRIGGER_TYPE_PREMIUM),v=document.querySelector(u.RESET_BUTTON),T=document.querySelector(u.EMPTY_MESSAGE);if(!t||!n||!s||!a||!p||!f||!m||!y||!w){console.error("\xC9l\xE9ments de filtre \xE9v\xE9nements non trouv\xE9s");return}let d="all",i="all";function b(e){let r=e.querySelector(u.DATE_ELEMENT);if(!r)return console.error("\xC9l\xE9ment de date non trouv\xE9 dans l'item"),null;let o=r.textContent?.trim()||"";if(!o)return console.error("Contenu de date vide"),null;let l=g(o);return l||(console.error("Impossible de parser la date:",o),null)}function h(e){let r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),o=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-o);let l=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r.getTime()-l.getTime())/864e5+1)/7)}function _(e){try{let r=new Date;if(isNaN(e.getTime()))return console.error("Date invalide:",e),!1;let o=h(e),l=h(r),c=e.getFullYear(),L=r.getFullYear();return o===l&&c===L}catch(r){return console.error("Erreur lors de la v\xE9rification de la semaine:",r),!1}}function M(e){try{let r=new Date;if(isNaN(e.getTime()))return console.error("Date invalide:",e),!1;let o=e.getMonth(),l=r.getMonth(),c=e.getFullYear(),L=r.getFullYear();return o===l&&c===L}catch(r){return console.error("Erreur lors de la v\xE9rification du mois:",r),!1}}function g(e){try{let r=e.trim().toLowerCase(),o=new Date(r);if(!isNaN(o.getTime()))return o;let l={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11,janvier:0,f\u00E9vrier:1,mars:2,avril:3,mai:4,juin:5,juillet:6,ao\u00FBt:7,septembre:8,octobre:9,novembre:10,d\u00E9cembre:11},c=r.match(/(\w+)\s+(\d{1,2}),?\s+(\d{4})/);if(c){let[,L,k,R]=c,q=l[L];if(q!==void 0){let N=parseInt(k,10),C=parseInt(R,10);if(N>=1&&N<=31&&C>=1900)return new Date(C,q,N)}}return console.error("Impossible de parser la date:",e),null}catch(r){return console.error("Erreur lors du parsing de la date:",r),null}}function S(e){if(d==="all")return!0;let r=b(e);return r?d==="week"?_(r):d==="month"?M(r):!0:!1}function I(e){try{let r=new Date;if(isNaN(e.getTime()))return console.error("Date invalide pour v\xE9rification pass\xE9:",e),!1;let o=new Date(e.getFullYear(),e.getMonth(),e.getDate()),l=new Date(r.getFullYear(),r.getMonth(),r.getDate()),c=new Date(l);return c.setDate(c.getDate()+1),o<c}catch(r){return console.error("Erreur lors de la v\xE9rification si \xE9v\xE9nement pass\xE9:",r),!1}}function Q(e){if(i==="all")return!0;if(i==="past"){let l=b(e);if(!l)return!1;let c=I(l);return console.error(`\xC9v\xE9nement pass\xE9: ${c} (date: ${l.toDateString()})`),c}let r=null;i==="webinar"?r=e.querySelector(u.FILTER_TYPE_WEBINAR):i==="physique"?r=e.querySelector(u.FILTER_TYPE_PHYSIQUE):i==="premium"&&(r=e.querySelector(u.FILTER_TYPE_PREMIUM)),console.error(`Filtre actif: ${i}, \xC9l\xE9ment trouv\xE9:`,r);let o=r!==null&&!r.classList.contains("w-condition-invisible");return console.error(`Item passe le filtre de type: ${o} (\xE9l\xE9ment trouv\xE9: ${r!==null}, visible: ${r?!r.classList.contains("w-condition-invisible"):"N/A"})`),o}function E(){let e=t.querySelectorAll(u.COLLECTION_ITEM),r=0;console.error(`Nombre d'items trouv\xE9s: ${e.length}`),console.error(`Filtres actifs - Date: ${d}, Type: ${i}`),e.forEach((o,l)=>{let c=o,L=S(c),k=Q(c),R=L&&k;console.error(`Item ${l}: passeDate=${L}, passeType=${k}, passeTous=${R}`),R?(r+=1,V(c)):X(c)}),T&&(r===0?T.style.display="flex":T.style.display="none")}function V(e){e.style.display="",e.style.opacity="0",e.style.transform="translateY(1rem)",e.style.transition="opacity 0.4s ease-out, transform 0.4s ease-out",requestAnimationFrame(()=>{e.style.opacity="1",e.style.transform="translateY(0)"})}function X(e){e.style.transition="opacity 0.3s ease-out, transform 0.3s ease-out",e.style.opacity="0",e.style.transform="translateY(-0.5rem)",setTimeout(()=>{e.style.display="none"},300)}function A(e){[n,s,a].forEach(r=>{let o=r.closest(u.DATE_FIELD);o&&(r===e?o.classList.add("is-active-inputactive"):o.classList.remove("is-active-inputactive"))})}function D(e){[p,f,m,y,w].forEach(r=>{let o=r.closest(u.TYPE_FIELD);o&&(r===e?o.classList.add("is-active-inputactive"):o.classList.remove("is-active-inputactive"))})}function z(){d="all",i="all",A(a),D(p),E()}n.addEventListener("click",e=>{e.preventDefault(),A(n),d="week",E()}),s.addEventListener("click",e=>{e.preventDefault(),A(s),d="month",E()}),a.addEventListener("click",e=>{e.preventDefault(),A(a),d="all",E()}),p.addEventListener("click",e=>{e.preventDefault(),D(p),i="all",E()}),f.addEventListener("click",e=>{e.preventDefault(),D(f),i="webinar",E()}),m.addEventListener("click",e=>{e.preventDefault(),D(m),i="physique",E()}),y.addEventListener("click",e=>{e.preventDefault(),D(y),i="past",A(a),d="all",E()}),w.addEventListener("click",e=>{e.preventDefault(),D(w),i="premium",E()}),v&&v.addEventListener("click",e=>{e.preventDefault(),z()});function Y(e=0){t.querySelectorAll(u.COLLECTION_ITEM).length>0?(console.error("Collection charg\xE9e, initialisation des filtres"),E()):e<H?(console.error(`Attente du chargement de la collection... (tentative ${e+1}/${H})`),setTimeout(()=>Y(e+1),100)):console.error("Limite de tentatives atteinte pour le chargement de la collection")}new MutationObserver(e=>{let r=!1;e.forEach(o=>{o.type==="childList"&&o.addedNodes.forEach(l=>{if(l.nodeType===Node.ELEMENT_NODE){let c=l;(c.classList.contains("event_hub_collection-item")||c.querySelector(u.COLLECTION_ITEM))&&(r=!0)}})}),r&&(console.error("Nouveaux items d\xE9tect\xE9s, mise \xE0 jour des filtres"),E())}).observe(t,{childList:!0,subtree:!0}),Y()}function G(){let t=document.querySelector(".navbar-opti_container");if(!t)return;function n(){window.scrollY>window.innerHeight*.1?t.style.background="var(--_brand---background--secondary)":t.style.background=""}n(),window.addEventListener("scroll",n)}function j(){let t=document.querySelector(".account_popup-premium_component"),n=document.querySelector(".account_popup-premium_wrapper"),s=document.querySelector(".account_popup-premium_background"),a=document.querySelectorAll('[trigger="popup-premium"]');if(!t||!n||!s)return;function p(){t.style.display="flex",t.style.opacity="0",n.style.opacity="0",n.style.transform="translateY(2rem)",t.style.transition="opacity 0.3s ease-out",n.style.transition="opacity 0.6s ease-out, transform 0.3s ease-out",requestAnimationFrame(()=>{t.style.opacity="1",n.style.opacity="1",n.style.transform="translateY(0rem)"})}function f(){t.style.transition="opacity 0.3s ease-out",n.style.transition="transform 0.3s ease-out",t.style.opacity="0",n.style.transform="translateY(0rem)",setTimeout(()=>{t.style.display="none"},300)}a.forEach(m=>{m.addEventListener("click",y=>{y.preventDefault(),p()})}),s.addEventListener("click",m=>{m.preventDefault(),f()})}function P(t){return new Promise((n,s)=>{let a=document.createElement("script");typeof t=="string"?(a.src=t,a.async=!0):(a.src=t.src,a.async=t.async??!0,t.type&&(a.type=t.type),t.fsAttribute&&a.setAttribute(t.fsAttribute,""),Object.keys(t).forEach(p=>{["src","type","async","fsAttribute"].includes(p)||a.setAttribute(p,String(t[p]))})),a.onload=()=>n(),a.onerror=()=>s(new Error(`Failed to load script: ${typeof t=="string"?t:t.src}`)),document.head.appendChild(a)})}var J={loadWidget(t){let n=["destination","project","reporter","customShimUrl","customData","useNativeScreenshot","silent","source","ssr","extension","keyboardShortcuts","beta","demo","networkRecording"];Object.keys(t).forEach(g=>{n.includes(g)||console.warn('(Marker.io SDK) unknown param "'+g+'" (need to upgrade?)')});let{reporter:s,customData:a,silent:p,ssr:f,extension:m,keyboardShortcuts:y,beta:w,demo:v,networkRecording:T,useNativeScreenshot:d}=t,i=t.project||t.destination;if(typeof i!="string")throw new Error("project must be a string");if("customData"in t&&typeof a!="object")throw new Error("customData must be an object");if("silent"in t&&typeof p!="boolean")throw new Error("silent must be a boolean");if("ssr"in t&&typeof f!="object")throw new Error("ssr must be an object");if("useNativeScreenshot"in t&&typeof d!="boolean")throw new Error("useNativeScreenshot must be a boolean");if("extension"in t&&typeof m!="boolean"&&typeof m!="object")throw new Error("extension must be a boolean/object");if("beta"in t&&typeof w!="object")throw new Error("extension must be a boolean/object");if("keyboardShortcuts"in t&&typeof y!="boolean")throw new Error("keyboardShortcuts must be a boolean");if("demo"in t&&typeof v!="boolean")throw new Error("demo must be a boolean/object");if("networkRecording"in t&&typeof T!="object")throw new Error("networkRecording must be a object");window.Marker&&window.Marker.unload(),window.markerConfig={project:i,reporter:s,customData:a,silent:p,ssr:f,extension:m,keyboardShortcuts:y,useNativeScreenshot:d,beta:w,demo:v,networkRecording:T,source:"browser-sdk"};let b=[],h={__cs:b};for(let g of["show","hide","isVisible","capture","cancelCapture","unload","reload","isExtensionInstalled","setReporter","clearReporter","setCustomData","setNetworkRecordingSettings","on","off"])h[g]=function(){let S=Array.prototype.slice.call(arguments);S.unshift(g),b.push(S)};window.Marker=h;let _=document.createElement("script");_.async=!0,_.src=t.customShimUrl||"https://edge.marker.io/latest/shim.js";let M=document.getElementsByTagName("script")[0];return M.parentNode?M.parentNode.insertBefore(_,M):(document.body||document.head).appendChild(_),new Promise((g,S)=>{h.on("load",()=>{g(window.Marker)}),h.on("loaderror",I=>{S(I)}),_.onerror=I=>S(I)})}},x=J;async function O(){window.location.href.includes("webflow")&&await x.loadWidget({project:"68598778ac7f5e6befddb67f"})}function U(){let t=document.querySelector(".popup-newsletter_component"),n=document.querySelector(".popup-newsletter_background"),s=document.querySelector(".popup-newsletter_cards"),a=document.querySelector(".popup-newsletter_close"),p=document.querySelectorAll('[trigger="popup-inscription"]');if(!t||!n||!s)return;let f="popup-newsletter-last-shown",m=24*60*60*1e3;function y(){let i=localStorage.getItem(f);if(!i)return!0;let b=parseInt(i,10);return Date.now()-b>=m}function w(){localStorage.setItem(f,Date.now().toString())}function v(){document.body.style.overflow="hidden",t.style.display="flex",n.style.opacity="0",s.style.opacity="0",s.style.transform="translateY(8rem)",t.offsetHeight,n.style.transition="opacity 0.6s ease-out",s.style.transition="opacity 0.3s ease-out, transform 0.3s ease-out",requestAnimationFrame(()=>{n.style.opacity="0.5",s.style.opacity="1",s.style.transform="translateY(0rem)"}),document.addEventListener("keydown",d)}function T(){document.body.style.overflow="",document.removeEventListener("keydown",d),n.style.transition="opacity 0.6s ease-out",s.style.transition="opacity 0.3s ease-out, transform 0.3s ease-out",n.style.opacity="0",s.style.opacity="0",s.style.transform="translateY(8rem)",setTimeout(()=>{t.style.display="none"},600)}function d(i){i.key==="Escape"&&T()}p.forEach(i=>{i.addEventListener("click",b=>{b.preventDefault(),v()})}),n.addEventListener("click",i=>{i.preventDefault(),T()}),a&&a.addEventListener("click",i=>{i.preventDefault(),T()}),y()&&setTimeout(()=>{v(),w()},5e3)}function W(){document.querySelectorAll('[svg="component"]').forEach(t=>{let n=t.textContent;n!==null&&(t.innerHTML=n)})}function $(){document.querySelectorAll('a[target="_blank"]').forEach(t=>{t.addEventListener("click",n=>{n.preventDefault();let s=t.getAttribute("href");s&&window.open(s,"_blank")})})}function B(){document.querySelectorAll('[text="brand-style"]').forEach(t=>{let s=t.innerHTML.replace(/\*([^*]+)\*/g,'<span class="text-color-brand">$1</span>');t.innerHTML=s})}function K(){document.querySelectorAll("[ms-code-password='transform']").forEach(function(s){s.addEventListener("click",n)});let t=!0;function n(){document.querySelectorAll("[data-ms-member='password'], [data-ms-member='new-password'], [data-ms-member='current-password']").forEach(function(a){t?a.setAttribute("type","text"):a.setAttribute("type","password")}),t=!t}}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{window.location.href.includes(".webflow.io")&&O(),G(),U(),setTimeout(()=>{F()},500),W(),$(),B(),P({src:"https://cdn.jsdelivr.net/npm/@finsweet/attributes@2/attributes.js",type:"module",fsAttribute:"fs-list"}),P({src:"https://cdn.jsdelivr.net/npm/@finsweet/attributes-accordion@1/accordion.js",type:"module"}),P({src:"https://cdn.jsdelivr.net/npm/@finsweet/attributes-inputactive@1/inputactive.js",type:"module"}),K(),j()});})();
