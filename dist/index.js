"use strict";(()=>{function x(){let e=document.querySelector(".event_hub_collection-list"),r=document.querySelector("#trigger-date-week"),n=document.querySelector("#trigger-date-month"),s=document.querySelector("#trigger-date-tous"),c=document.querySelector("#trigger-type-tous"),d=document.querySelector("#trigger-type-webinar"),u=document.querySelector("#trigger-type-physique"),m=document.querySelector("#trigger-type-past"),b=document.querySelector("#trigger-type-premium"),h=document.querySelector("#reset-all"),y=document.querySelector(".filter_empty.is-event");if(!e||!r||!n||!s||!c||!d||!u||!m||!b){console.error("\xC9l\xE9ments de filtre \xE9v\xE9nements non trouv\xE9s");return}let p="all",i="all";function g(t){let o=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),a=o.getUTCDay()||7;o.setUTCDate(o.getUTCDate()+4-a);let w=new Date(Date.UTC(o.getUTCFullYear(),0,1));return Math.ceil(((o.getTime()-w.getTime())/864e5+1)/7)}function E(t){try{let o=new Date(t),a=new Date;if(isNaN(o.getTime()))return console.error("Date invalide:",t),!1;let w=g(o),f=g(a),S=o.getFullYear(),k=a.getFullYear();return w===f&&S===k}catch(o){return console.error("Erreur lors du parsing de la date:",o),!1}}function T(t){try{let o=new Date(t),a=new Date;if(isNaN(o.getTime()))return console.error("Date invalide:",t),!1;let w=o.getMonth(),f=a.getMonth(),S=o.getFullYear(),k=a.getFullYear();return w===f&&S===k}catch(o){return console.error("Erreur lors du parsing de la date:",o),!1}}function D(t){if(p==="all")return!0;let o=t.querySelector("#filter-date");if(!o)return console.error("\xC9l\xE9ment de date non trouv\xE9 dans l'item"),!1;let a=o.getAttribute("data-date")||o.getAttribute("datetime")||o.textContent?.trim()||"";return p==="week"?E(a):p==="month"?T(a):!0}function v(t){if(i==="all")return!0;let o=null;i==="webinar"?o=t.querySelector("#filter-type-webinar"):i==="physique"?o=t.querySelector("#filter-type-physique"):i==="past"?o=t.querySelector("#filter-type-past"):i==="premium"&&(o=t.querySelector("#filter-type-premium")),console.error(`Filtre actif: ${i}, \xC9l\xE9ment trouv\xE9:`,o);let a=o!==null&&!o.classList.contains("w-condition-invisible");return console.error(`Item passe le filtre de type: ${a} (\xE9l\xE9ment trouv\xE9: ${o!==null}, visible: ${o?!o.classList.contains("w-condition-invisible"):"N/A"})`),a}function l(){let t=e.querySelectorAll(".event_hub_collection-item"),o=0;console.error(`Nombre d'items trouv\xE9s: ${t.length}`),console.error(`Filtres actifs - Date: ${p}, Type: ${i}`),t.forEach((a,w)=>{let f=a,S=D(f),k=v(f),H=S&&k;console.error(`Item ${w}: passeDate=${S}, passeType=${k}, passeTous=${H}`),H?(M(f),o++):B(f)}),y&&(o===0?y.style.display="flex":y.style.display="none")}function M(t){t.style.display="",t.style.opacity="0",t.style.transform="translateY(1rem)",t.style.transition="opacity 0.4s ease-out, transform 0.4s ease-out",requestAnimationFrame(()=>{t.style.opacity="1",t.style.transform="translateY(0)"})}function B(t){t.style.transition="opacity 0.3s ease-out, transform 0.3s ease-out",t.style.opacity="0",t.style.transform="translateY(-0.5rem)",setTimeout(()=>{t.style.display="none"},300)}function q(t){[r,n,s].forEach(o=>{let a=o.closest(".event_hub_filters-date-field");a&&(o===t?a.classList.add("is-active-inputactive"):a.classList.remove("is-active-inputactive"))})}function L(t){[c,d,u,m,b].forEach(o=>{let a=o.closest(".event_hub_filters-type-field");a&&(o===t?a.classList.add("is-active-inputactive"):a.classList.remove("is-active-inputactive"))})}function U(){p="all",i="all",q(s),L(c),l()}r.addEventListener("click",t=>{t.preventDefault(),q(r),p="week",l()}),n.addEventListener("click",t=>{t.preventDefault(),q(n),p="month",l()}),s.addEventListener("click",t=>{t.preventDefault(),q(s),p="all",l()}),c.addEventListener("click",t=>{t.preventDefault(),L(c),i="all",l()}),d.addEventListener("click",t=>{t.preventDefault(),L(d),i="webinar",l()}),u.addEventListener("click",t=>{t.preventDefault(),L(u),i="physique",l()}),m.addEventListener("click",t=>{t.preventDefault(),L(m),i="past",l()}),b.addEventListener("click",t=>{t.preventDefault(),L(b),i="premium",l()}),h&&h.addEventListener("click",t=>{t.preventDefault(),U()});function _(){e.querySelectorAll(".event_hub_collection-item").length>0?(console.error("Collection charg\xE9e, initialisation des filtres"),l()):(console.error("Attente du chargement de la collection..."),setTimeout(_,100))}new MutationObserver(t=>{let o=!1;t.forEach(a=>{a.type==="childList"&&a.addedNodes.forEach(w=>{if(w.nodeType===Node.ELEMENT_NODE){let f=w;(f.classList.contains("event_hub_collection-item")||f.querySelector(".event_hub_collection-item"))&&(o=!0)}})}),o&&(console.error("Nouveaux items d\xE9tect\xE9s, mise \xE0 jour des filtres"),l())}).observe(e,{childList:!0,subtree:!0}),_()}function j(){let e=document.querySelector(".navbar-opti_container");if(!e)return;function r(){window.scrollY>window.innerHeight*.1?e.style.background="var(--_brand---background--secondary)":e.style.background=""}r(),window.addEventListener("scroll",r)}function N(){let e=document.querySelector(".account_popup-premium_component"),r=document.querySelector(".account_popup-premium_wrapper"),n=document.querySelector(".account_popup-premium_background"),s=document.querySelectorAll('[trigger="popup-premium"]');if(!e||!r||!n)return;function c(){e.style.display="flex",e.style.opacity="0",r.style.opacity="0",r.style.transform="translateY(2rem)",e.style.transition="opacity 0.3s ease-out",r.style.transition="opacity 0.6s ease-out, transform 0.3s ease-out",requestAnimationFrame(()=>{e.style.opacity="1",r.style.opacity="1",r.style.transform="translateY(0rem)"})}function d(){e.style.transition="opacity 0.3s ease-out",r.style.transition="transform 0.3s ease-out",e.style.opacity="0",r.style.transform="translateY(0rem)",setTimeout(()=>{e.style.display="none"},300)}s.forEach(u=>{u.addEventListener("click",m=>{m.preventDefault(),c()})}),n.addEventListener("click",u=>{u.preventDefault(),d()})}function A(e){return new Promise((r,n)=>{let s=document.createElement("script");typeof e=="string"?(s.src=e,s.async=!0):(s.src=e.src,s.async=e.async??!0,e.type&&(s.type=e.type),e.fsAttribute&&s.setAttribute(e.fsAttribute,""),Object.keys(e).forEach(c=>{["src","type","async","fsAttribute"].includes(c)||s.setAttribute(c,String(e[c]))})),s.onload=()=>r(),s.onerror=()=>n(new Error(`Failed to load script: ${typeof e=="string"?e:e.src}`)),document.head.appendChild(s)})}var O={loadWidget(e){let r=["destination","project","reporter","customShimUrl","customData","useNativeScreenshot","silent","source","ssr","extension","keyboardShortcuts","beta","demo","networkRecording"];Object.keys(e).forEach(v=>{r.includes(v)||console.warn('(Marker.io SDK) unknown param "'+v+'" (need to upgrade?)')});let{reporter:n,customData:s,silent:c,ssr:d,extension:u,keyboardShortcuts:m,beta:b,demo:h,networkRecording:y,useNativeScreenshot:p}=e,i=e.project||e.destination;if(typeof i!="string")throw new Error("project must be a string");if("customData"in e&&typeof s!="object")throw new Error("customData must be an object");if("silent"in e&&typeof c!="boolean")throw new Error("silent must be a boolean");if("ssr"in e&&typeof d!="object")throw new Error("ssr must be an object");if("useNativeScreenshot"in e&&typeof p!="boolean")throw new Error("useNativeScreenshot must be a boolean");if("extension"in e&&typeof u!="boolean"&&typeof u!="object")throw new Error("extension must be a boolean/object");if("beta"in e&&typeof b!="object")throw new Error("extension must be a boolean/object");if("keyboardShortcuts"in e&&typeof m!="boolean")throw new Error("keyboardShortcuts must be a boolean");if("demo"in e&&typeof h!="boolean")throw new Error("demo must be a boolean/object");if("networkRecording"in e&&typeof y!="object")throw new Error("networkRecording must be a object");window.Marker&&window.Marker.unload(),window.markerConfig={project:i,reporter:n,customData:s,silent:c,ssr:d,extension:u,keyboardShortcuts:m,useNativeScreenshot:p,beta:b,demo:h,networkRecording:y,source:"browser-sdk"};let g=[],E={__cs:g};for(let v of["show","hide","isVisible","capture","cancelCapture","unload","reload","isExtensionInstalled","setReporter","clearReporter","setCustomData","setNetworkRecordingSettings","on","off"])E[v]=function(){let l=Array.prototype.slice.call(arguments);l.unshift(v),g.push(l)};window.Marker=E;let T=document.createElement("script");T.async=!0,T.src=e.customShimUrl||"https://edge.marker.io/latest/shim.js";let D=document.getElementsByTagName("script")[0];return D.parentNode?D.parentNode.insertBefore(T,D):(document.body||document.head).appendChild(T),new Promise((v,l)=>{E.on("load",()=>{v(window.Marker)}),E.on("loaderror",M=>{l(M)}),T.onerror=M=>l(M)})}},C=O;async function F(){window.location.href.includes("webflow")&&await C.loadWidget({project:"68598778ac7f5e6befddb67f"})}function Y(){let e=document.querySelector(".popup-newsletter_component"),r=document.querySelector(".popup-newsletter_background"),n=document.querySelector(".popup-newsletter_cards"),s=document.querySelector(".popup-newsletter_close"),c=document.querySelectorAll('[trigger="popup-inscription"]');if(!e||!r||!n)return;let d="popup-newsletter-last-shown",u=24*60*60*1e3;function m(){let i=localStorage.getItem(d);if(!i)return!0;let g=parseInt(i,10);return Date.now()-g>=u}function b(){localStorage.setItem(d,Date.now().toString())}function h(){document.body.style.overflow="hidden",e.style.display="flex",r.style.opacity="0",n.style.opacity="0",n.style.transform="translateY(8rem)",e.offsetHeight,r.style.transition="opacity 0.6s ease-out",n.style.transition="opacity 0.3s ease-out, transform 0.3s ease-out",requestAnimationFrame(()=>{r.style.opacity="0.5",n.style.opacity="1",n.style.transform="translateY(0rem)"}),document.addEventListener("keydown",p)}function y(){document.body.style.overflow="",document.removeEventListener("keydown",p),r.style.transition="opacity 0.6s ease-out",n.style.transition="opacity 0.3s ease-out, transform 0.3s ease-out",r.style.opacity="0",n.style.opacity="0",n.style.transform="translateY(8rem)",setTimeout(()=>{e.style.display="none"},600)}function p(i){i.key==="Escape"&&y()}c.forEach(i=>{i.addEventListener("click",g=>{g.preventDefault(),h()})}),r.addEventListener("click",i=>{i.preventDefault(),y()}),s&&s.addEventListener("click",i=>{i.preventDefault(),y()}),m()&&setTimeout(()=>{h(),b()},5e3)}function P(){document.querySelectorAll('[svg="component"]').forEach(e=>{let r=e.textContent;r!==null&&(e.innerHTML=r)})}function I(){document.querySelectorAll('a[target="_blank"]').forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let n=e.getAttribute("href");n&&window.open(n,"_blank")})})}function $(){document.querySelectorAll('[text="brand-style"]').forEach(e=>{let n=e.innerHTML.replace(/\*([^*]+)\*/g,'<span class="text-color-brand">$1</span>');e.innerHTML=n})}function W(){document.querySelectorAll("[ms-code-password='transform']").forEach(function(n){n.addEventListener("click",r)});let e=!0;function r(){document.querySelectorAll("[data-ms-member='password'], [data-ms-member='new-password'], [data-ms-member='current-password']").forEach(function(s){e?s.setAttribute("type","text"):s.setAttribute("type","password")}),e=!e}}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{window.location.href.includes(".webflow.io")&&F(),j(),Y(),setTimeout(()=>{x()},500),P(),I(),$(),A({src:"https://cdn.jsdelivr.net/npm/@finsweet/attributes@2/attributes.js",type:"module",fsAttribute:"fs-list"}),A({src:"https://cdn.jsdelivr.net/npm/@finsweet/attributes-accordion@1/accordion.js",type:"module"}),A({src:"https://cdn.jsdelivr.net/npm/@finsweet/attributes-inputactive@1/inputactive.js",type:"module"}),W(),N()});})();
